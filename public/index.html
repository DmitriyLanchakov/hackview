<!DOCTYPE html>
<html>
  <head>
    <title>[Untitled] - Yahoo! HackU</title>
    <link type="text/css" href="style.css" rel="stylesheet"></link>
    <script src="jquery.js"></script>
    <script src="webrtc.io.js"></script>
    <script src="hangout.js"></script>
    <script src="doc.js"></script>
    <script src="ui.js"></script>
    <script src="mobile.js"></script>
    <script src="app.js"></script>
    <!-- sharejs stuff -->
    <script src="http://ajaxorg.github.com/ace/build/src/ace.js"></script>
    <script src="/channel/bcsocket.js"></script>
    <script src="/share/share.js"></script>
    <script src="/share/ace.js"></script>
  </head>
  <body>
    <div id="videos">
      <video id="you" class="flip" autoplay></video>
    </div>
    <div id="chatbox">
      <button id="newRoom">Create A New Room</button>
    </div>
    <div id="editor"></div>
    <script>
      //Initialize the application
      App.init();
      //ShareJS stuff
      var editor = ace.edit("editor");

      sharejs.open('hello', 'text', function(error, doc) {
         doc.attach_ace(editor);
      });

      

      // editor.setReadOnly(true);
      // editor.getSession().setUseSoftTabs(true);
      // editor.getSession().setTabSize(2);
      // editor.getSession().setMode(new (require("ace/mode/coffee").Mode));
      // editor.setTheme("ace/theme/idle_fingers");

      // if (!document.location.hash) {
      //   document.location.hash = '#' + randomDocName();
      // }
      // var docName = "code:" + document.location.hash.slice(1);

      // var span = document.getElementById('docname').innerText = docName;

      // sharejs.open(docName, 'text', function(error, doc) {
      //   if (error) {
      //     console.error(error);
      //     return;
      //   }

      //   if (doc.created) {
      //     doc.insert(0, "# Coffeescript editor!\n\nexports.foo = ->\n  console.log 'hi!'");
      //   }

      //   doc.attach_ace(editor);
      //   editor.setReadOnly(false);
      // });
    </script>
  </body>
</html>
